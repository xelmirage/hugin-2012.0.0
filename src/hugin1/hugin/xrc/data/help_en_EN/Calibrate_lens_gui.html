<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en" dir="ltr">
	<head>
		<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
		<meta http-equiv="Content-Style-Type" content="text/css" />
		<meta name="generator" content="MediaWiki 1.14.0" />
		<meta name="keywords" content="Calibrate lens gui" />
		
		
		
		
		
		
		<title>Calibrate lens gui - PanoTools.org Wiki</title>
		
		
		
		<!--[if lt IE 5.5000]><![endif]-->
		<!--[if IE 5.5000]><![endif]-->
		<!--[if IE 6]><![endif]-->
		<!--[if IE 7]><![endif]-->
		
		
		
		
		<!--[if lt IE 7]>
		<meta http-equiv="imagetoolbar" content="no" /><![endif]-->

		

		
		<style media="screen" type="text/css" title="Screen style sheet"> @import url(manual.css); </style>
		
				
	</head>
<body class="mediawiki ltr ns-0 ns-subject page-Calibrate_lens_gui skin-monobook">
	<div id="globalWrapper">
		<div id="column-content">
	<div id="content">
		<a name="top" id="top"></a>
				<h1 id="firstHeading" class="firstHeading">Calibrate lens gui</h1>
		<div id="bodyContent">
			
			
												<!-- start content -->
			<p>calibrate_lens_gui is a tool for lens calibration using the straight line approach.
</p>
<a name="Workflow" id="Workflow"></a><h1> <span class="mw-headline"> Workflow </span></h1>
<p>1. Load images
</p><p>2. Check focal length and crop factor (calibrate_lens_gui tries to read them from the EXIF data)
</p><p>3. Detect lines
</p><p>4. Optimize the lens parameters
</p><p>5. Save optimized lens parameters into file for using inside Hugin
</p>
<a name="Line_detection" id="Line_detection"></a><h1> <span class="mw-headline"> Line detection </span></h1>
<p>To speed up the following calculations the image is scaled down, so that the longest dimension of the image is small than maximal image size.
</p><p>Then an edge detection operator is applied. The Canny edge detector<a class="external" href="http://en.wikipedia.org/wiki/Canny_edge_detector">[*]</a> is used for this. This step can be tuned with the scale or radius factor and the threshold for the Canny edge detector. 
</p><p>Finally the found lines are checked if they are straight in respect to the given focal length. Also lines with are shorter than the minimal line length are rejected. Minimum line length is given as ratio to the image width/height. So a value of 0.3 means that only lines which are longer than 30&nbsp;% of the image width are used.
</p>
<a name="Preview" id="Preview"></a><h1> <span class="mw-headline"> Preview </span></h1>
<ul><li> Original: Shows the original image as loaded from the disc.
</li><li> Edge detection: Shows the result of the Canny edge detector. Useful for tweaking the scale and threshold parameters that good lines are found.
</li><li> Corrected: Shows the image corrected with the current lens parameters. If you manually edit these values you need to press Refresh so see the effect of the modified parameters.
</li></ul>
<p><b>Show lines</b>: This will blend the detected lines into the image. Valid lines are drawn in green. Invalid lines (e.g. too short or too curved) are drawn in black - these lines are not always visible. 
</p><p>With the left mouse button you can mark lines to be not used for the optimisation (e.g. if the automatic detection was not perfect and selected also bad lines). Lines which are ignored by the the optimiser are drawn in red. If you want these lines to be used by the optimiser again click with the right mouse button on these lines.
</p>



<div class="printfooter">
Retrieved from "<a href="Calibrate_lens_gui.html">http://wiki.panotools.org/Calibrate_lens_gui</a>"</div>
			</div></div></div></div></body></html>